<html>
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Afreto&#39;s blog</title>
<meta name="description" content="江湖沒什麼好的，也就酒還行～

" />
<link rel="shortcut icon" href="https://afret0.github.io/favicon.ico?v=1605795275586">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link href="https://cdn.jsdelivr.net/npm/remixicon@2.3.0/fonts/remixicon.css" rel="stylesheet">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.2/animate.min.css">

<link rel="stylesheet" href="https://afret0.github.io/styles/main.css">



  </head>
  <body>
    <div id="app" class="main px-4 flex flex-col lg:flex-row">
      <div id="sidebar" class="sidebar-wrapper lg:static lg:w-1/4">
  <div class="lg:sticky top-0">
    <div class="sidebar-content">
      <div class="flex lg:block p-4 lg:px-0 items-center fixed lg:static lg:block top-0 right-0 left-0 bg-white z-50">
        <i class="ri-menu-2-line lg:mt-4 text-2xl cursor-pointer animated fadeIn" onclick="openMenu()"></i>
        <a href="https://afret0.github.io">
          <img class="animated fadeInLeft avatar rounded-lg mx-4 lg:mt-32 lg:mx-0 mt-0 lg:w-24 lg:h-24 w-12 w-12" src="https://afret0.github.io/images/avatar.png?v=1605795275586" alt="">
        </a>
        <h1 class="animated fadeInLeft lg:text-4xl font-extrabold lg:mt-8 mt-0 text-xl" style="animation-delay: 0.2s">Afreto&#39;s blog</h1>
      </div>
      
        <div class="animated fadeInLeft" style="animation-delay: 0.4s">
          <p class="my-4 text-gray-600 font-light hidden lg:block">
            文章目录
          </p>
          <div class="toc-container hidden lg:block">
            <ul class="markdownIt-TOC">
<li><a href="#%E8%AE%B0%E4%B8%AA%E7%BB%88%E7%AB%AF%E7%9A%84">记个终端的</a></li>
<li><a href="#%E5%9F%BA%E6%93%8D-%E5%8B%BF%E5%85%AD">基操 勿六</a>
<ul>
<li><a href="#%E5%B8%B8%E7%94%A8%E8%AE%BE%E7%BD%AE">常用设置</a></li>
</ul>
</li>
<li><a href="#%E7%A7%BB%E5%8A%A8">移动</a>
<ul>
<li><a href="#%E5%9F%BA%E4%BA%8E%E5%8D%95%E8%AF%8D%E7%9A%84%E7%A7%BB%E5%8A%A8">基于单词的移动</a></li>
<li><a href="#%E8%A1%8C%E7%A7%BB%E5%8A%A8">行移动</a></li>
<li><a href="#%E8%A1%8C%E9%97%B4%E6%90%9C%E7%B4%A2%E7%A7%BB%E5%8A%A8">行间搜索移动</a></li>
<li><a href="#%E5%8D%95%E8%AF%8D%E7%A7%BB%E5%8A%A8">单词移动</a></li>
<li><a href="#%E7%BF%BB%E9%A1%B5">翻页</a></li>
</ul>
</li>
<li><a href="#%E5%A2%9E">增</a></li>
<li><a href="#%E5%88%A0%E9%99%A4">删除</a></li>
<li><a href="#%E6%94%B9">改</a></li>
<li><a href="#%E6%9F%A5">查</a></li>
<li><a href="#%E7%BF%BB%E9%A1%B5-2">翻页</a></li>
<li><a href="#%E7%B2%98%E8%B4%B4%E5%A4%8D%E5%88%B6">粘贴复制</a></li>
<li><a href="#%E5%88%86%E5%B1%8F">分屏</a></li>
<li><a href="#%E6%90%9C%E7%B4%A2%E5%92%8C%E6%9B%BF%E6%8D%A2">搜索和替换</a></li>
<li><a href="#%E5%85%B6%E5%AE%83%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4">其它常用命令</a>
<ul>
<li><a href="#%E8%AE%BE%E7%BD%AE%E8%A1%8C%E5%8F%B7">设置行号</a></li>
</ul>
</li>
<li><a href="#visual-%E6%A8%A1%E5%BC%8F">visual 模式</a></li>
<li><a href="#%E5%BF%AB%E9%80%9F%E5%88%87%E6%8D%A2-insert-normal-%E6%A8%A1%E5%BC%8F">快速切换 insert normal 模式</a></li>
<li><a href="#%E5%A4%9A%E6%96%87%E4%BB%B6">多文件</a>
<ul>
<li><a href="#buffer-windows-tab">buffer windows tab</a></li>
</ul>
</li>
<li><a href="#%E6%96%87%E6%9C%AC%E5%AF%B9%E8%B1%A1%E6%93%8D%E4%BD%9C%E6%96%B9%E5%BC%8F">文本对象操作方式</a></li>
<li><a href="#%E5%A4%8D%E5%88%B6%E7%B2%98%E8%B4%B4%E5%92%8C%E5%AF%84%E5%AD%98%E5%99%A8%E7%9A%84%E4%BD%BF%E7%94%A8">复制粘贴和寄存器的使用</a>
<ul>
<li><a href="#normal-%E6%A8%A1%E5%BC%8F">normal 模式</a></li>
<li><a href="#insert-%E6%A8%A1%E5%BC%8F%E4%B8%8B%E7%9A%84%E5%A4%8D%E5%88%B6%E7%B2%98%E8%B4%B4">insert 模式下的复制粘贴</a></li>
<li><a href="#%E5%AF%84%E5%AD%98%E5%99%A8">寄存器</a>
<ul>
<li><a href="#%E6%8C%87%E5%AE%9A%E5%AF%84%E5%AD%98%E5%99%A8">指定寄存器</a></li>
<li><a href="#%E5%85%B6%E5%AE%83%E4%B8%80%E4%BA%9B%E5%AF%84%E5%AD%98%E5%99%A8">其它一些寄存器</a></li>
</ul>
</li>
<li><a href="#%E8%AE%BE%E7%BD%AE%E7%B3%BB%E7%BB%9F%E5%89%AA%E8%B4%B4%E6%9D%BF%E4%B8%BA%E9%BB%98%E8%AE%A4%E6%97%A0%E5%90%8D%E5%AF%84%E5%AD%98%E5%99%A8">设置系统剪贴板为默认无名寄存器</a></li>
</ul>
</li>
<li><a href="#vim-%E5%AE%8Fmacro">vim 宏(macro)</a>
<ul>
<li><a href="#%E4%BB%80%E4%B9%88%E6%98%AF%E5%AE%8F">什么是宏</a></li>
<li><a href="#%E4%BD%BF%E7%94%A8%E5%AE%8F">使用宏</a></li>
</ul>
</li>
<li><a href="#vim-%E4%B8%AD%E7%9A%84%E8%A1%A5%E5%85%A8">vim 中的补全</a></li>
<li><a href="#vim-%E6%8D%A2%E8%89%B2">vim 换色</a></li>
<li><a href="#vim-%E9%85%8D%E7%BD%AE">vim 配置</a></li>
<li><a href="#idea-%E5%92%8C-vscode-%E8%BE%93%E5%85%A5%E6%B3%95%E8%87%AA%E5%8A%A8%E5%88%87%E6%8D%A2">idea 和 vscode 输入法自动切换</a>
<ul>
<li><a href="#idea">idea</a></li>
<li><a href="#vscode">vscode</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      
    </div>
  </div>
</div>

<div class="menu-container">
  <i class="ri-arrow-left-line text-2xl cursor-pointer animated fadeIn close-menu-btn" onclick="closeMenu()"></i>
  <div>
    
      
        <a href="https://afret0.github.io" class="menu" style="animation-delay: 0s">
          home
        </a>
      
    
      
        <a href="/archives" class="menu" style="animation-delay: 0.2s">
          archives
        </a>
      
    
      
        <a href="/tags" class="menu" style="animation-delay: 0.4s">
          tags
        </a>
      
    
  </div>
  <div class="site-footer">
    <div class="py-4 text-gray-700">歇于雁荡山大龙湫, 及三更梦中, 星火满天, 喜不成寐, 赤足跳入草莽中...</div>
    <a class="rss" href="https://afret0.github.io/atom.xml" target="_blank">RSS</a>
  </div>
</div>
<div class="mask" onclick="closeMenu()">
</div>
      <div class="content-wrapper py-32 lg:p-8 lg:w-3/4 post-detail animated fadeIn">
        <h1 class="text-3xl font-bold lg:mt-16">vim 真的是太好用了</h1>
        <div class="text-sm text-gray-700 lg:my-8">
          2019-06-26 / 7 min read
        </div>
        
        <div class="post-content yue">
          <p>差那么点意思啊</p>
<!--more-->
<p><a href="https://www.imooc.com/video/19453">参考教程</a></p>
<h1 id="记个终端的">记个终端的</h1>
<pre><code class="language-bash">ctrl + b 前移光标
ctrl + f 后移光标
</code></pre>
<h1 id="基操-勿六">基操 勿六</h1>
<table>
<thead>
<tr>
<th>上</th>
<th>下</th>
<th>左</th>
<th>右</th>
</tr>
</thead>
<tbody>
<tr>
<td>j</td>
<td>k</td>
<td>h</td>
<td>l</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>命令</th>
<th>操作</th>
</tr>
</thead>
<tbody>
<tr>
<td>ddp</td>
<td>交换上下行</td>
</tr>
<tr>
<td>yyp</td>
<td>复制当前行</td>
</tr>
<tr>
<td>gd</td>
<td>跳到定义</td>
</tr>
<tr>
<td>/def</td>
<td>跳到下个函数开始的地方</td>
</tr>
<tr>
<td>cf.</td>
<td>直接修改到下个 .</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="常用设置">常用设置</h2>
<p>设置 syntax on</p>
<p>设置 行号 <code>set nu</code></p>
<p>设置自动缩进 <code>set autoindent</code></p>
<p><code>:e!</code> 重新加载并且不保存文件</p>
<h1 id="移动">移动</h1>
<h2 id="基于单词的移动">基于单词的移动</h2>
<pre><code class="language-vim">w (word) 下一个单词
b (back word) 移动回上一个单词
</code></pre>
<h2 id="行移动">行移动</h2>
<pre><code class="language-vim">:18 移动光标到 18 行
14G 移动到 14 行
0 移动光标到行首
^ 移动到第一个非空白字符
$ 移动光标到行尾
g_ 移动到行尾非空白字符
</code></pre>
<h2 id="行间搜索移动">行间搜索移动</h2>
<ul>
<li>使用 f{char} 可以移动到 char 字符上, t 移动到 char 前一个字符</li>
<li>使用 ; 或 , 继续搜索下一个或上一个</li>
</ul>
<h2 id="单词移动">单词移动</h2>
<p>word: 以非空白符分割的单词</p>
<p>WORD: 以空白符分割的单词</p>
<ul>
<li>w/W 移动到下一个 word/WORD 开头, e/E 下一个 word/WORD 尾</li>
<li>b/B 回到上一个 word/WORD 开头</li>
</ul>
<h2 id="翻页">翻页</h2>
<ul>
<li>gg 移动到文件开头</li>
<li>G 移动到文件结尾</li>
<li>ctrl + O 返回到刚刚移动的位置</li>
<li>H/M/L 跳转到屏幕的开头, 中间和 结尾</li>
<li>ctrl + f, ctrl+u 上下翻页,</li>
<li>zz 把屏幕放在中间</li>
</ul>
<h1 id="增">增</h1>
<pre><code class="language-vim">a/A (append)
i/I (insert)
o/O (open a line)
</code></pre>
<p>a 会在当前字母的后面插入</p>
<p>i 会在当前字母的前面插入</p>
<p>o 会打开一个新行</p>
<p>A 在行末添加</p>
<p>I 在行首插入</p>
<p>O 在当前行的上方插入</p>
<h1 id="删除">删除</h1>
<pre><code class="language-vim">d (delete)
dw (del word)
dd (del line)
x (删除一个字符)
diw (del inner word) 删除不包含空格的单词
daw (del around word)
ctrl + h 删除上一个字符
ctrl + w 删除上一个单词
ctrl + u 删除当前行
</code></pre>
<p>d,x 都可以搭配数字执行多次</p>
<ul>
<li>
<p>2dd/2x 删除两行/删除两个字符</p>
</li>
<li>
<p>dt] del to ], 删除到 ] 的所有内容</p>
</li>
<li>
<p>d0/d&amp; 快速删除行首和行尾</p>
</li>
</ul>
<h1 id="改">改</h1>
<ul>
<li>r  replace</li>
<li>c change</li>
<li>s substitue</li>
</ul>
<p>normal 模式下使用 r 替换一个字符, s 替换并进入插入模式</p>
<p>使用 c 配合文本对象, 可以进行快速修改</p>
<pre><code class="language-vim">c (change)
ciw (change inner word) 自动删除单词并进入插入模式
ct) (chang to ) )??  修改到右括号
ci&quot; 删除双引号的内容并进入插入模式
</code></pre>
<h1 id="查">查</h1>
<pre><code class="language-vim">f find
fs 查找当前行一个出现的 s, 使用 ; 查找下一个
/keyword 查找单词
?keyword 向前查找

</code></pre>
<p>使用 n/N 跳转到下一个或者上一个匹配</p>
<h1 id="翻页-2">翻页</h1>
<pre><code class="language-vim">ctrl + f (forward)
ctrl + u (upward)
</code></pre>
<h1 id="粘贴复制">粘贴复制</h1>
<pre><code class="language-vim">y yank
p paste
</code></pre>
<h1 id="分屏">分屏</h1>
<pre><code class="language-vim">vs vertical split
sp split
</code></pre>
<h1 id="搜索和替换">搜索和替换</h1>
<pre><code class="language-vim">% s/foo/bar/g
</code></pre>
<h1 id="其它常用命令">其它常用命令</h1>
<h2 id="设置行号">设置行号</h2>
<p><code>:set nu</code></p>
<h1 id="visual-模式">visual 模式</h1>
<p>一般用来块状选择文本</p>
<p>normal 模式下使用 v 进入 visual 模式</p>
<pre><code class="language-vim">V  选中行
ctrl + v 进行块选择
viw 选中单词
vaw 选中单词带空格
</code></pre>
<h1 id="快速切换-insert-normal-模式">快速切换 insert normal 模式</h1>
<ul>
<li>ctrl + c (可能会中断插件) 或者 ctrl + [</li>
<li>gi  快速跳转到最后一次编辑的地方并进入 insert 模式</li>
</ul>
<h1 id="多文件">多文件</h1>
<h2 id="buffer-windows-tab">buffer windows tab</h2>
<p>buffer 指打开的文件的一个内存缓冲区</p>
<p>窗口是 buffer 可视化的分割区</p>
<p>tab 是窗口的工作区</p>
<h1 id="文本对象操作方式">文本对象操作方式</h1>
<p><code>[number] &lt;command&gt; [text object]</code><br>
`[次数] &lt;命令 (delete change yank)&gt;[文本对象 (单词 w, 句子 s, 段落 p)]</p>
<h1 id="复制粘贴和寄存器的使用">复制粘贴和寄存器的使用</h1>
<p>Vim 里面剪切 (cut) 复制 (copy) 粘贴 (paste) 分别是 delete/yank/put</p>
<h2 id="normal-模式">normal 模式</h2>
<p>normal 模式下复制粘贴分别使用 y(yank) 和 p(put), 剪贴 d 和 p</p>
<p>可以使用 v(visual) 命令选中要复制的地方, 然后使用 p 粘贴</p>
<p>配合文本对象使用:</br></p>
<ul>
<li>yiw 复制一个单词</li>
<li>yy 复制一行</li>
</ul>
<h2 id="insert-模式下的复制粘贴">insert 模式下的复制粘贴</h2>
<p>很多人会使用鼠标进行选中, 然后使用 <code>ctrl + v</code> 进行粘贴, 这里和其它编辑器差不多, 但是粘贴代码的时候会有个坑</p>
<p>当设置了 autoindent, 粘贴代码时缩进会混乱</p>
<p>这个时候需要使用 <code>set: paste</code> 和 <code>set: nopaste</code> 解决</p>
<h2 id="寄存器">寄存器</h2>
<p>Vim 操作的是寄存器, 不是系统剪贴板</p>
<p>默认我们使用 d 删除 或者 y 复制的内容都会放到这个 寄存器</p>
<p>使用 x 删除一个字符放到寄存器, 然后使用 p 粘贴, 可以调换两个字符</p>
<h3 id="指定寄存器">指定寄存器</h3>
<p>通过 &quot;{register}&quot; 前缀可以指定寄存器, 不指定则默认使用无名寄存器</p>
<p>比如, 使用 <code>&quot;ayiw</code> 复制一个单词到寄存器 a 中, <code>&quot;bdd</code> 删除当前行到寄存器 b 中</p>
<p>Vim 中 <code>&quot;&quot;</code> 表示无名寄存器, 缺省使用. <code>&quot;&quot;p</code> 等同于 <code>p</code></p>
<h3 id="其它一些寄存器">其它一些寄存器</h3>
<p>复制专用寄存器 `&quot;0 使用 y 复制文本同时会被拷贝到复制寄存器 0</p>
<p>系统剪贴板 &quot;+ 可以在复制前加上 &quot;+ 复制到系统剪贴板, 可以使用系统剪贴板粘贴到其它地方</p>
<p><code>&quot;% 当前文件名,</code>&quot;. 上次插入的文本</p>
<h2 id="设置系统剪贴板为默认无名寄存器">设置系统剪贴板为默认无名寄存器</h2>
<p><code>set clipboard=unnamed</code></p>
<h1 id="vim-宏macro">vim 宏(macro)</h1>
<h2 id="什么是宏">什么是宏</h2>
<p>宏 是一系列命令的集合</p>
<p>我们可以使用宏 [录制] 一系列操作, 然后用于 [回放]</p>
<h2 id="使用宏">使用宏</h2>
<p>宏的使用分为录制和回放</p>
<p>normal 模式下使用 q 来录制, 同时也是 q 来结束录制</p>
<p>使用 q{register} 选择要保存的寄存器, 把录制的命令保存其中</p>
<p>使用 @{register} 回放寄存器中保存的一系列命令</p>
<h1 id="vim-中的补全">vim 中的补全</h1>
<p>使用 ctrl + n 和 ctrl + p 补全单词</p>
<p>使用 ctrl + x 和 ctrl + f 补全文件名</p>
<p>使用 ctrl + x  ctrl + o 补全代码, 需要开启文件类型检查, 安装插件</p>
<p>使用 ctrl + xf 补全文件路径</p>
<h1 id="vim-换色">vim 换色</h1>
<p>使用 :colorscheme 显示当前的主题配色, 默认 default</p>
<p>使用 :colorscheme &lt;ctrl + d&gt; 可以显示所有的配色</p>
<p>使用 :colorscheme 配色名可以修改配色</p>
<h1 id="vim-配置">vim 配置</h1>
<p>配置文件 ~/.vimrc, 常用设置</p>
<h1 id="idea-和-vscode-输入法自动切换">idea 和 vscode 输入法自动切换</h1>
<h2 id="idea">idea</h2>
<p>使用  <a href="https://github.com/hadix-lin/ideavim_extension">ideavim_extension</a></p>
<h2 id="vscode">vscode</h2>
<p>使用 <a href="https://github.com/daipeihust/im-select#installation">im-select</a></p>
<p>配置 vscode , 在 setting.json 中添加</p>
<pre><code class="language-json">    &quot;vim.autoSwitchInputMethod.enable&quot;: true,
    &quot;vim.autoSwitchInputMethod.defaultIM&quot;: &quot;com.apple.keylayout.ABC&quot;,
    &quot;vim.autoSwitchInputMethod.obtainIMCmd&quot;: &quot;/usr/local/bin/im-select&quot;,
    &quot;vim.autoSwitchInputMethod.switchIMCmd&quot;: &quot;/usr/local/bin/im-select {im}&quot;
</code></pre>

        </div>

        
          <a class="animated fadeInUp p-2 items-center text-sm text-gray-700 border hover:bg-gray-300 leading-none rounded-full flex lg:inline-flex m-4 " href="https://afret0.github.io/o90Pwizch5/">
            <span class="flex-auto">vim</span>
          </a>
        


        <div class="flex justify-between py-8">
          
            <div class="prev-post">
              <a href="https://afret0.github.io/redis使用笔记/">
                <h3 class="post-title">
                  <i class="ri-arrow-left-line"></i>
                  redis tips
                </h3>
              </a>
            </div>
          

          
            <div class="next-post">
              <a href="https://afret0.github.io/git-咋用啊/">
                <h3 class="post-title">
                  git 咋用啊
                  <i class="ri-arrow-right-line"></i>
                </h3>
              </a>
            </div>
          
        </div>

        

      </div>
    </div>

    <script src="https://afret0.github.io/media/prism.js"></script>  
<script>

Prism.highlightAll()
let mainNavLinks = document.querySelectorAll(".markdownIt-TOC a");

// This should probably be throttled.
// Especially because it triggers during smooth scrolling.
// https://lodash.com/docs/4.17.10#throttle
// You could do like...
// window.addEventListener("scroll", () => {
//    _.throttle(doThatStuff, 100);
// });
// Only not doing it here to keep this Pen dependency-free.

window.addEventListener("scroll", event => {
  let fromTop = window.scrollY;

  mainNavLinks.forEach((link, index) => {
    let section = document.getElementById(decodeURI(link.hash).substring(1));
    let nextSection = null
    if (mainNavLinks[index + 1]) {
      nextSection = document.getElementById(decodeURI(mainNavLinks[index + 1].hash).substring(1));
    }
    if (section.offsetTop <= fromTop) {
      if (nextSection) {
        if (nextSection.offsetTop > fromTop) {
          link.classList.add("current");
        } else {
          link.classList.remove("current");    
        }
      } else {
        link.classList.add("current");
      }
    } else {
      link.classList.remove("current");
    }
  });
});


document.addEventListener("DOMContentLoaded", function() {
  var lazyImages = [].slice.call(document.querySelectorAll(".post-feature-image.lazy"));

  if ("IntersectionObserver" in window) {
    let lazyImageObserver = new IntersectionObserver(function(entries, observer) {
      entries.forEach(function(entry) {
        if (entry.isIntersecting) {
          let lazyImage = entry.target
          lazyImage.style.backgroundImage = `url(${lazyImage.dataset.bg})`
          lazyImage.classList.remove("lazy")
          lazyImageObserver.unobserve(lazyImage)
        }
      });
    });

    lazyImages.forEach(function(lazyImage) {
      lazyImageObserver.observe(lazyImage)
    })
  } else {
    // Possibly fall back to a more compatible method here
  }
});

const menuContainer = document.querySelector('.menu-container')
const menus = document.querySelectorAll('.menu-container .menu')
const mask = document.querySelector('.mask')
const contentWrapper = document.querySelector('.content-wrapper')
const latestArticle = document.querySelector('.latest-article')
const readMore = document.querySelector('.read-more')
const indexPage = document.querySelector('.index-page')

const isHome = location.pathname === '/'
if (latestArticle) {
  latestArticle.style.display = isHome ? 'block' : 'none'
  readMore.style.display = isHome ? 'block' : 'none'
  indexPage.style.display = isHome ? 'none' : 'block'
}

const openMenu = () => {
  menuContainer.classList.add('open')
  menus.forEach(menu => {
    menu.classList.add('animated', 'fadeInLeft')
  })
  mask.classList.add('open')
  contentWrapper.classList.add('is-second')
}

const closeMenu = () => {
  menuContainer.classList.remove('open')
  menus.forEach(menu => {
    menu.classList.remove('animated', 'fadeInLeft')
  })
  mask.classList.remove('open')
  contentWrapper.classList.remove('is-second')
}
</script>
  
  </body>
</html>
